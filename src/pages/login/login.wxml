
<view class="login-container">
  <view class="login-card">
    <view class="login-header">
      <view class="logo">
        <image src="https://healthmanagementinfosys01-0ae99f-1381435234.tcloudbaseapp.com/resources/2025-10/lowcode-2381039" mode="aspectFill" class="logo-image" />
      </view>
      <text class="title">健管师服务管理信息系统</text>
      <text class="subtitle">健管师服务管理信息系统登录</text>
    </view>

    <form bindsubmit="handleLogin">
      <view class="form-group">
        <text class="label">账号</text>
        <input 
          name="username" 
          type="text" 
          placeholder="请输入账号" 
          value="{{formData.username}}" 
          bindinput="onInputChange" 
          data-field="username"
          class="input"
          disabled="{{loading}}"
        />
      </view>

      <view class="form-group">
        <text class="label">密码</text>
        <view class="password-input">
          <input 
            id="passwordInput"
            name="password" 
            type="{{showPassword ? 'text' : 'password'}}" 
            placeholder="请输入密码" 
            value="{{formData.password}}" 
            bindinput="onInputChange" 
            data-field="password"
            class="input"
            disabled="{{loading}}"
            focus="{{passwordFocus}}"
          />
          <!-- 美观的密码切换图标 -->
          <view class="eye-toggle {{showPassword ? 'active' : ''}}" bindtap="togglePassword">
            <view class="eye-icon">
              <!-- 眼睛图标 -->
              <view class="eye-svg">
                <view class="eye-outline"></view>
                <view class="eye-pupil"></view>
                <view class="eye-lid {{showPassword ? 'open' : 'closed'}}"></view>
                <view class="eye-slash {{showPassword ? '' : 'visible'}}"></view>
              </view>
            </view>
          </view>
        </view>
      </view>

      <button 
        formType="submit" 
        class="login-btn" 
        disabled="{{loading}}"
        loading="{{loading}}"
      >
        {{loading ? '登录中...' : '登录'}}
      </button>
    </form>

    <view class="footer">
      <text class="footer-text">账号申请：联系系统开发人员或管理员</text>
    </view>
  </view>
</view>
